### 消息队列
1. 消息队列的使用方法：  
发送者：  
（1）获取消息队列的ID  
（2）将数据放入一个附带有标识的特殊的结构体，发送给消息队列  
接收者：  
（1）获取消息队列的ID  
（2）将指定标识的消息读出  
当发送者和接收者都不再使用消息队列时，及时删除它以释放系统资源
2. 获取消息队列的ID
    ```
    #include<sys/types.h>
    #include<sys/ipc.h>
    #include<sys/msg.h>
    int msgget(ket_t key,int msgflg);
    ```
    `key`是消息队列的键值，`msgflg`有三种取值：`IPC_CREATE`，当`key`对应的MSG不存在时则创建该对象，`IPC_EXCL`,如果该key对应的MSG已经存在，则报错，`mode`则是MSG的访问权限（八进制，如0644），如果执行成功则返回该消息队列的ID，失败则为-1
3. 选项`msgflg`是一个位屏蔽字，因此`IPC_CREATE`、`IPC_EXCL`和`mode`可以用位或的方式叠加起来，比如：`msgget(key,IPC_CREATE|0666)`；表示如果key对应的消息队列不存在就创建，且权限指定为0666，若已存在就直接获取ID
4. `mode`权限只有读和写，执行权限是无效的，例如0777和0666是等价的，当`key`被指定为IPC_PRIVATE时，系统会自动产生一个未用的key来对应一个新的消息队列对象，一般用于线程间通信
5. 发送与接收消息
    ```
    #include<sys/types.h>
    #include<sys/ipc.h>
    #include<sys/msg.h>
    int msgsnd(int msqid,const void *msgp,size_t msgsz,int msgflg);
    ssize_t msgrcv(int msqid,void *msgp,size_t msgsz,long msgtyp,int msgflg);
    ```
    